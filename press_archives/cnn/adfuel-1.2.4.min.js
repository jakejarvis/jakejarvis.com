function sendDeprecationNotification(e){return function(){console.log("[AdFuel - DEPRECATION NOTICE] AMPTManager is DEPRECATED and will be removed in the next version of AdFuel.  Please update your code to reference AdFuel instead of AMPTManager."),window.AdFuel[e].apply(this,arguments)}}(function(){!function(e){"use strict";function t(){return u&&u.call(s)||(new Date).getTime()}var n=[],r={},a={},i=function(){},o="-----";o+=o,o+=o,o+=o,o+=o;var l="\n\n\n\n\n\n",s=window.performance,u=s&&(s.now||s.mozNow||s.msNow||s.oNow||s.webkitNow);e.log&&"function"==typeof e.log||(e.log=i),e.profile&&"function"==typeof e.profile||(e.profile=i),e.profileEnd&&"function"==typeof e.profileEnd||(e.profileEnd=i),e.timeStamp&&"function"==typeof e.timeStamp||(e.timeStamp=i),e.trace&&"function"==typeof e.trace||(e.trace=i),e.debug&&"function"==typeof e.debug||(e.debug=e.log),e.info&&"function"==typeof e.info||(e.info=e.log),e.warn&&"function"==typeof e.warn||(e.warn=e.log),e.error&&"function"==typeof e.error||(e.error=e.log),e.dir&&"function"==typeof e.dir||(e.dir=e.log),e.dirxml&&"function"==typeof e.dirxml||(e.dirxml=e.dir);var d=!1;(d||!e.group)&&(e.group=function(t){n.push(t),e.log(o+"\nBEGIN GROUP: "+t)}),(d||!e.groupCollapsed)&&(e.groupCollapsed=e.group),(d||!e.groupEnd)&&(e.groupEnd=function(){e.log("END GROUP: "+n.pop()+"\n"+o)}),(d||!e.time)&&(e.time=function(e){r[e]=t()}),(d||!e.timeEnd)&&(e.timeEnd=function(n){e.log(n+": "+(t()-r[n]).toFixed(3)+"ms"),delete r[n]}),(d||!e.assert)&&(e.assert=function(t,n){t||e.error("Assertion failed: "+n)}),(d||!e.count)&&(e.count=function(t){a[t]||(a[t]=0),a[t]++,e.log(t+": "+a[t])}),(d||!e.clear)&&(e.clear=function(){e.log(l)})}(window.console=window.console||{}),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}(),!window.addEventListener&&function(e,t,n,r,a,i,o){e[r]=t[r]=n[r]=function(e,t){var n=this;o.unshift([n,e,t,function(e){e.currentTarget=n,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||n,t.call(n,e)}]),this.attachEvent("on"+e,o[0][3])},e[a]=t[a]=n[a]=function(e,t){for(var n,r=0;n=o[r];++r)if(n[0]==this&&n[1]==e&&n[2]==t)return this.detachEvent("on"+e,o.splice(r,1)[0][3])},e[i]=t[i]=n[i]=function(e){return this.fireEvent("on"+e.type,e)}}(window.prototype,document.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null===this)throw new TypeError('"this" is null or not defined');var r=Object(this),a=r.length>>>0;if(0===a)return-1;var i=+t||0;if(Math.abs(i)===1/0&&(i=0),i>=a)return-1;for(n=Math.max(i>=0?i:a-Math.abs(i),0);a>n;){if(n in r&&r[n]===e)return n;n++}return-1}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)})})(),function(){"use strict";var e=document,t=e.createElement("script"),n=e.getElementsByTagName("script")[0],r="https:"===document.location.protocol;t.type="text/javascript",t.src=(r?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js",n.parentNode.insertBefore(t,n)}(),function(){(function(){function e(){}function t(e){return e}function n(e){return!!e}function r(e){return!e}function a(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function i(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}function o(e){return q(e)||"number"==typeof e.length&&e.length>=0&&e.length%1===0}function l(e,t){for(var n=-1,r=e.length;++n<r;)t(e[n],n,e)}function s(e,t){for(var n=-1,r=e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function u(e){return s(Array(e),function(e,t){return t})}function d(e,t,n){return l(e,function(e,r,a){n=t(n,e,r,a)}),n}function c(e,t){l(L(e),function(n){t(e[n],n)})}function f(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function p(e){var t,n,r=-1;return o(e)?(t=e.length,function(){return r++,r<t?r:null}):(n=L(e),t=n.length,function(){return r++,r<t?n[r]:null})}function g(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),a=0;a<n;a++)r[a]=arguments[a+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r)}}}function h(e){return function(t,n,r){return e(t,r)}}function m(t){return function(n,r,o){o=i(o||e),n=n||[];var l=p(n);if(t<=0)return o(null);var s=!1,u=0,d=!1;(function e(){if(s&&u<=0)return o(null);for(;u<t&&!d;){var i=l();if(null===i)return s=!0,void(u<=0&&o(null));u+=1,r(n[i],i,a(function(t){u-=1,t?(o(t),d=!0):e()}))}})()}}function v(e){return function(t,n,r){return e(P.eachOf,t,n,r)}}function y(e){return function(t,n,r,a){return e(m(n),t,r,a)}}function w(e){return function(t,n,r){return e(P.eachOfSeries,t,n,r)}}function b(t,n,r,a){a=i(a||e),n=n||[];var l=o(n)?[]:{};t(n,function(e,t,n){r(e,function(e,r){l[t]=r,n(e)})},function(e){a(e,l)})}function S(e,t,n,r){var a=[];e(t,function(e,t,r){n(e,function(n){n&&a.push({index:t,value:e}),r()})},function(){r(s(a.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function T(e,t,n,r){S(e,t,function(e,t){n(e,function(e){t(!e)})},r)}function C(e,t,n){return function(r,a,i,o){function l(){o&&o(n(!1,void 0))}function s(e,r,a){return o?void i(e,function(r){o&&t(r)&&(o(n(!0,e)),o=i=!1),a()}):a()}arguments.length>3?e(r,a,s,l):(o=i,i=a,e(r,s,l))}}function _(e,t){return t}function k(t,n,r){r=r||e;var a=o(n)?[]:{};t(n,function(e,t,n){e(g(function(e,r){r.length<=1&&(r=r[0]),a[t]=r,n(e)}))},function(e){r(e,a)})}function A(e,t,n,r){var a=[];e(t,function(e,t,r){n(e,function(e,t){a=a.concat(t||[]),r(e)})},function(e){r(e,a)})}function E(t,n,r){function i(t,n,r,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");return t.started=!0,q(n)||(n=[n]),0===n.length&&t.idle()?P.setImmediate(function(){t.drain()}):(l(n,function(n){var i={data:n,callback:a||e};r?t.tasks.unshift(i):t.tasks.push(i),t.tasks.length===t.concurrency&&t.saturated()}),void P.setImmediate(t.process))}function o(e,t){return function(){u-=1;var n=!1,r=arguments;l(t,function(e){l(d,function(t,r){t!==e||n||(d.splice(r,1),n=!0)}),e.callback.apply(e,r)}),e.tasks.length+u===0&&e.drain(),e.process()}}if(null==n)n=1;else if(0===n)throw new Error("Concurrency must not be zero");var u=0,d=[],c={tasks:[],concurrency:n,payload:r,saturated:e,empty:e,drain:e,started:!1,paused:!1,push:function(e,t){i(c,e,!1,t)},kill:function(){c.drain=e,c.tasks=[]},unshift:function(e,t){i(c,e,!0,t)},process:function(){for(;!c.paused&&u<c.concurrency&&c.tasks.length;){var e=c.payload?c.tasks.splice(0,c.payload):c.tasks.splice(0,c.tasks.length),n=s(e,function(e){return e.data});0===c.tasks.length&&c.empty(),u+=1,d.push(e[0]);var r=a(o(c,e));t(n,r)}},length:function(){return c.tasks.length},running:function(){return u},workersList:function(){return d},idle:function(){return c.tasks.length+u===0},pause:function(){c.paused=!0},resume:function(){if(c.paused!==!1){c.paused=!1;for(var e=Math.min(c.concurrency,c.tasks.length),t=1;t<=e;t++)P.setImmediate(c.process)}}};return c}function O(e){return g(function(t,n){t.apply(null,n.concat([g(function(t,n){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&l(n,function(t){console[e](t)}))})]))})}function x(e){return function(t,n,r){e(u(t),n,r)}}function D(e){return g(function(t,n){var r=g(function(n){var r=this,a=n.pop();return e(t,function(e,t,a){e.apply(r,n.concat([a]))},a)});return n.length?r.apply(this,n):r})}function I(e){return g(function(t){var n=t.pop();t.push(function(){var e=arguments;r?P.setImmediate(function(){n.apply(null,e)}):n.apply(null,e)});var r=!0;e.apply(this,t),r=!1})}var F,P={},R="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;null!=R&&(F=R.async),P.noConflict=function(){return R.async=F,P};var M=Object.prototype.toString,q=Array.isArray||function(e){return"[object Array]"===M.call(e)},N=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},L=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},j="function"==typeof setImmediate&&setImmediate,Q=j?function(e){j(e)}:function(e){setTimeout(e,0)};"object"==typeof process&&"function"==typeof process.nextTick?P.nextTick=process.nextTick:P.nextTick=Q,P.setImmediate=j?Q:P.nextTick,P.forEach=P.each=function(e,t,n){return P.eachOf(e,h(t),n)},P.forEachSeries=P.eachSeries=function(e,t,n){return P.eachOfSeries(e,h(t),n)},P.forEachLimit=P.eachLimit=function(e,t,n,r){return m(t)(e,h(n),r)},P.forEachOf=P.eachOf=function(t,n,r){function o(e){u--,e?r(e):null===l&&u<=0&&r(null)}r=i(r||e),t=t||[];for(var l,s=p(t),u=0;null!=(l=s());)u+=1,n(t[l],l,a(o));0===u&&r(null)},P.forEachOfSeries=P.eachOfSeries=function(t,n,r){function o(){var e=!0;return null===s?r(null):(n(t[s],s,a(function(t){if(t)r(t);else{if(s=l(),null===s)return r(null);e?P.setImmediate(o):o()}})),void(e=!1))}r=i(r||e),t=t||[];var l=p(t),s=l();o()},P.forEachOfLimit=P.eachOfLimit=function(e,t,n,r){m(t)(e,n,r)},P.map=v(b),P.mapSeries=w(b),P.mapLimit=y(b),P.inject=P.foldl=P.reduce=function(e,t,n,r){P.eachOfSeries(e,function(e,r,a){n(t,e,function(e,n){t=n,a(e)})},function(e){r(e,t)})},P.foldr=P.reduceRight=function(e,n,r,a){var i=s(e,t).reverse();P.reduce(i,n,r,a)},P.transform=function(e,t,n,r){3===arguments.length&&(r=n,n=t,t=q(e)?[]:{}),P.eachOf(e,function(e,r,a){n(t,e,r,a)},function(e){r(e,t)})},P.select=P.filter=v(S),P.selectLimit=P.filterLimit=y(S),P.selectSeries=P.filterSeries=w(S),P.reject=v(T),P.rejectLimit=y(T),P.rejectSeries=w(T),P.any=P.some=C(P.eachOf,n,t),P.someLimit=C(P.eachOfLimit,n,t),P.all=P.every=C(P.eachOf,r,r),P.everyLimit=C(P.eachOfLimit,r,r),P.detect=C(P.eachOf,t,_),P.detectSeries=C(P.eachOfSeries,t,_),P.detectLimit=C(P.eachOfLimit,t,_),P.sortBy=function(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}P.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){return e?n(e):void n(null,s(t.sort(r),function(e){return e.value}))})},P.auto=function(t,n,r){function a(e){y.unshift(e)}function o(e){var t=f(y,e);t>=0&&y.splice(t,1)}function s(){p--,l(y.slice(0),function(e){e()})}"function"==typeof arguments[1]&&(r=n,n=null),r=i(r||e);var u=L(t),p=u.length;if(!p)return r(null);n||(n=p);var h={},m=0,v=!1,y=[];a(function(){p||r(null,h)}),l(u,function(e){function i(){return m<n&&d(w,function(e,t){return e&&h.hasOwnProperty(t)},!0)&&!h.hasOwnProperty(e)}function l(){i()&&(m++,o(l),p[p.length-1](y,h))}if(!v){for(var u,p=q(t[e])?t[e]:[t[e]],y=g(function(t,n){if(m--,n.length<=1&&(n=n[0]),t){var a={};c(h,function(e,t){a[t]=e}),a[e]=n,v=!0,r(t,a)}else h[e]=n,P.setImmediate(s)}),w=p.slice(0,p.length-1),b=w.length;b--;){if(!(u=t[w[b]]))throw new Error("Has nonexistent dependency in "+w.join(", "));if(q(u)&&f(u,e)>=0)throw new Error("Has cyclic dependencies")}i()?(m++,p[p.length-1](y,h)):a(l)}})},P.retry=function(e,t,n){function r(e,t){if("number"==typeof t)e.times=parseInt(t,10)||i;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||i,e.interval=parseInt(t.interval,10)||o}}function a(e,t){function n(e,n){return function(r){e(function(e,t){r(!e||n,{err:e,result:t})},t)}}function r(e){return function(t){setTimeout(function(){t(null)},e)}}for(;s.times;){var a=!(s.times-=1);l.push(n(s.task,a)),!a&&s.interval>0&&l.push(r(s.interval))}P.series(l,function(t,n){n=n[n.length-1],(e||s.callback)(n.err,n.result)})}var i=5,o=0,l=[],s={times:i,interval:o},u=arguments.length;if(u<1||u>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return u<=2&&"function"==typeof e&&(n=t,t=e),"function"!=typeof e&&r(s,e),s.callback=n,s.task=t,s.callback?a():a},P.waterfall=function(t,n){function r(e){return g(function(t,a){if(t)n.apply(null,[t].concat(a));else{var i=e.next();i?a.push(r(i)):a.push(n),I(e).apply(null,a)}})}if(n=i(n||e),!q(t)){var a=new Error("First argument to waterfall must be an array of functions");return n(a)}return t.length?void r(P.iterator(t))():n()},P.parallel=function(e,t){k(P.eachOf,e,t)},P.parallelLimit=function(e,t,n){k(m(t),e,n)},P.series=function(e,t){k(P.eachOfSeries,e,t)},P.iterator=function(e){function t(n){function r(){return e.length&&e[n].apply(null,arguments),r.next()}return r.next=function(){return n<e.length-1?t(n+1):null},r}return t(0)},P.apply=g(function(e,t){return g(function(n){return e.apply(null,t.concat(n))})}),P.concat=v(A),P.concatSeries=w(A),P.whilst=function(t,n,r){if(r=r||e,t()){var a=g(function(e,i){e?r(e):t.apply(this,i)?n(a):r.apply(null,[null].concat(i))});n(a)}else r(null)},P.doWhilst=function(e,t,n){var r=0;return P.whilst(function(){return++r<=1||t.apply(this,arguments)},e,n)},P.until=function(e,t,n){return P.whilst(function(){return!e.apply(this,arguments)},t,n)},P.doUntil=function(e,t,n){return P.doWhilst(e,function(){return!t.apply(this,arguments)},n)},P.during=function(t,n,r){r=r||e;var a=g(function(e,n){e?r(e):(n.push(i),t.apply(this,n))}),i=function(e,t){e?r(e):t?n(a):r(null)};t(i)},P.doDuring=function(e,t,n){var r=0;P.during(function(e){r++<1?e(null,!0):t.apply(this,arguments)},e,n)},P.queue=function(e,t){var n=E(function(t,n){e(t[0],n)},t,1);return n},P.priorityQueue=function(t,n){function r(e,t){return e.priority-t.priority}function a(e,t,n){for(var r=-1,a=e.length-1;r<a;){var i=r+(a-r+1>>>1);n(t,e[i])>=0?r=i:a=i-1}return r}function i(t,n,i,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");return t.started=!0,q(n)||(n=[n]),0===n.length?P.setImmediate(function(){t.drain()}):void l(n,function(n){var l={data:n,priority:i,callback:"function"==typeof o?o:e};t.tasks.splice(a(t.tasks,l,r)+1,0,l),t.tasks.length===t.concurrency&&t.saturated(),P.setImmediate(t.process)})}var o=P.queue(t,n);return o.push=function(e,t,n){i(o,e,t,n)},delete o.unshift,o},P.cargo=function(e,t){return E(e,1,t)},P.log=O("log"),P.dir=O("dir"),P.memoize=function(e,n){var r={},a={},i=Object.prototype.hasOwnProperty;n=n||t;var o=g(function(t){var o=t.pop(),l=n.apply(null,t);i.call(r,l)?P.setImmediate(function(){o.apply(null,r[l])}):i.call(a,l)?a[l].push(o):(a[l]=[o],e.apply(null,t.concat([g(function(e){r[l]=e;var t=a[l];delete a[l];for(var n=0,i=t.length;n<i;n++)t[n].apply(null,e)})])))});return o.memo=r,o.unmemoized=e,o},P.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},P.times=x(P.map),P.timesSeries=x(P.mapSeries),P.timesLimit=function(e,t,n,r){return P.mapLimit(u(e),t,n,r)},P.seq=function(){var t=arguments;return g(function(n){var r=this,a=n[n.length-1];"function"==typeof a?n.pop():a=e,P.reduce(t,n,function(e,t,n){t.apply(r,e.concat([g(function(e,t){n(e,t)})]))},function(e,t){a.apply(r,[e].concat(t))})})},P.compose=function(){return P.seq.apply(null,Array.prototype.reverse.call(arguments))},P.applyEach=D(P.eachOf),P.applyEachSeries=D(P.eachOfSeries),P.forever=function(t,n){function r(e){return e?i(e):void o(r)}var i=a(n||e),o=I(t);r()},P.ensureAsync=I,P.constant=g(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),P.wrapSync=P.asyncify=function(e){return g(function(t){var n,r=t.pop();try{n=e.apply(this,t)}catch(e){return r(e)}N(n)&&"function"==typeof n.then?n.then(function(e){r(null,e)}).catch(function(e){r(e.message?e:new Error(e))}):r(null,n)})},"object"==typeof module&&module.exports?module.exports=P:"function"==typeof define&&define.amd?define([],function(){return P}):R.async=P})(),window.async.parallelWithTimeout=function(e,t,n,r){var a=n.map(function(t){return function(n){t.callback(function(r,a){var i=AdFuel.getMetricById("modules",t.name)[e+"Callback"],o=(new Date).getTime(),l=o-i.start+"ms";AdFuel.addMetric({type:"modules",id:t.name,data:{callback:e,end:o,elapsed:l}}),AdFuel.addMetric({type:"timeline",id:t.name+"_"+e,data:{end:o,elapsed:l}}),t.isCompleted=!0,n(r,a)})}}),i=setTimeout(function(){i=null;var a=[];r("callback timed out out after "+t+"ms.",null);for(var o=0;o<n.length;o++)if(0==n[o].isCompleted){_dbgLog({task:n[o]});var l=(new Date).getTime();a.push(n[o].name+" "+n[o].event),AdFuel.addMetric({type:"modules",id:n[o].name,data:{callback:e,timeout:l}}),AdFuel.addMetric({type:"timeline",id:n[o].name+"_"+e,data:{timeout:l}})}},t);async.parallel(a,function(e,t){i&&(clearTimeout(i),r(e,t))})}}();var AdFuel=function(){function e(e){return"function"==typeof e}function t(t,n){if(!e(t))throw new TypeError("Bind must be called on a function");var r=pe.call(arguments,2);return function(){return t.apply(n,r.concat(pe.call(arguments)))}}function n(){window.console.log.apply(window.console,arguments)}function r(e,t,n){return e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent?e.attachEvent("on"+t,n):void 0}function a(){for(var e="",t=0;t<9;t++)e+=Math.floor(16*Math.random()).toString(16);return e}function i(e){var t="";if(document.location.search){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",r=new RegExp(n),a=r.exec(document.location.search);a&&(t=a[1])}return t}function o(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",r=0;r<t.length;r++){for(var a=t[r];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null}return null}function l(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date){var t=new Date;return t.setTime(e.getTime()),t}if(e instanceof Array){for(var n=[],r=0,a=e.length;r<a;r++)n[r]=l(e[r]);return n}if(e instanceof Object){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=l(e[o]));return i}throw new Error("Unable to copy obj! Its type isn't supported.")}function s(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function u(){function e(){n||(n=!0,Ee(ke()+" DOMContentLoaded"),Ae("AdFuel DOM Ready Detection"),me=!0,B({type:"timeline",id:"domContentLoaded",data:{id:1,timestamp:Date.now()}}),R())}function t(){if(!n)try{document.documentElement.doScroll("left"),e()}catch(e){setTimeout(t,10)}}var n=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(document.attachEvent){var r=!1;try{r=null!==window.frameElement}catch(e){}document.documentElement.doScroll&&!r&&t(),document.attachEvent("onreadystatechange",function(){"complete"!==document.readyState&&"loaded"!==document.readyState&&"interactive"!==document.readyState||e()})}if(window.addEventListener)window.addEventListener("load",e,!0);else if(window.attachEvent)window.attachEvent("onload",e);else{var a=window.onload;window.onload=function(){a&&a(),e()}}"complete"!==document.readyState&&"loaded"!==document.readyState&&"interactive"!==document.readyState||e()}function d(){try{var e=i("adsqa");if(e){var t=e.split("%3D");ce=t[0],fe=t[1],Te.pageTargets[ce]=fe}}catch(e){Oe("checkForAdsQA",e)}}function c(e){for(var t=0;t<e.length;t++){for(var n=e[t],r=Te.pageTargets[n[0]]||[],a=0;a<n[1].length;a++){var i=n[1][a];r.indexOf(i)<0&&r.push(i)}Te.pageTargets[n[0]]=r}}function f(e){if(window[e]){if(window[e].adTargets)for(var t in window[e].adTargets)window[e].adTargets.hasOwnProperty(t)&&(Te.pageTargets[t]=window[e].adTargets[t]);if(window[e].slotTargets)for(var n in window[e].slotTargets)if(window[e].slotTargets.hasOwnProperty(n)){var r=window[e].slotTargets[n];Te.slotTargets[n]||(Te.slotTargets[n]={});for(var t in r)r.hasOwnProperty(t)&&(Te.slotTargets[n][t]=r[t])}}}function p(e){var t=l(e.targeting);Array.isArray(t)||(t=[t]);var n=Te.slotTargets;if(n[e.rktr_slot_id])for(var r in n[e.rktr_slot_id])n[e.rktr_slot_id].hasOwnProperty(r)&&t.push([r,n[e.rktr_slot_id][r]]);return t}function g(){r(document,"GPTRenderComplete",function(e){Ae("GPT Render Complete",{renderEvent:e});var t=document.getElementById(e.detail.divId);t&&t.className.indexOf("adfuel-rendered")<0&&(t.className+=" adfuel-rendered")})}function h(e){e&&(Array.isArray(e)||(e=[e]),0==e.length&&(e=Object.getOwnPropertyNames(De)));for(var t=0;t<e.length;t++){var n=e[t],r=document.getElementById(n);r&&r.className.indexOf("adfuel-rendered")>0&&(r.className=r.className.replace("adfuel-rendered",""))}}function m(e){e&&(Array.isArray(e)||(e=[e]),0==e.length&&(e=Object.getOwnPropertyNames(De)));for(var t=0;t<e.length;t++){var n=e[t];De[n]&&delete De[n]}}function v(e){e&&(Array.isArray(e)||(e=[e]),0==e.length&&(Ae({pageSlots:De}),e=Object.getOwnPropertyNames(De))),Ae("Removing Rocketeer Slots: ",e);for(var t=0;t<Ie.length;t++){var n=Ie[t].rktr_slot_id;Ae({slotId:n}),(e.indexOf(n)>=0||0==e.length)&&(Ae("Removing "+n),Ie.splice(t,1))}}function y(){window.googletag.setAdIframeTitle(Se.iframeTitle)}function w(e,t){if(e&&t){var n=AdFuel.dynamicTargeting.pageTargets[e]||[];Array.isArray(n)||(n=[n]),Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++)n.indexOf(t[r])<0&&n.push(t[r]);Te.pageTargets[e]=n,Ae("Setting Page-Level Targeting",e,n),je.executeWhenAvailable("adding page-level targeting",function(){var t={};t[e]=AdFuel.dynamicTargeting.pageTargets[e],AdFuel.addMetric({type:"page",id:"dynamic_targeting",data:t}),je.setTargeting(e,AdFuel.dynamicTargeting.pageTargets[e])})}}function b(e,t){je.executeWhenAvailable("removing page-level targeting",function(){var n=Te.pageTargets[e];return t&&(n.indexOf(t)>=0&&n.splice(n.indexOf(t),1),Te.pageTargets[e]=n),t?void(e&&0==n.length?delete Te.pageTargets[e]:e&&0==!n.length?(Te.pageTargets[e]=n,je.setTargeting(e,n)):(Te.pageTargets={},ce&&w(ce,fe))):(je.clearTargeting(e),delete Te.pageTargets[e],void(AdFuel.dynamicTargeting=Te))})}function S(e,t,n){var r=Te.slotTargets[e]||{},a=r[t]||[];if(Array.isArray(a))if(Array.isArray(n))for(var i=0;i<n.length;i++)a.push(n[i]);else a.push(n);Te.slotTargets[e]=Te.slotTargets[e]||{},Te.slotTargets[e][t]=a,je.executeWhenAvailable("adding slot-level targeting",function(){var n=De[e];n&&je.setSlotTargeting(n,t,a)})}function T(e,t,n){je.executeWhenAvailable("removing slot-level targeting",function(){var r=De[e];if(r){var a={},i=r.getTargetingKeys();for(var o in i){var l=i[o];"function"!=typeof l&&(a[l]=r.getTargeting(l)||"")}var s={pos:a.pos};t?n?a[t].splice(a[t].indexOf(n),1):delete a[t]:a={pos:a.pos},je.clearSlotTargeting(r);for(var u in a)0==a[u].length&&(a[u][0]=""),je.setSlotTargeting(r,u,a[u])}Te.slotTargets[e]&&(t?n?Te.slotTargets[e][t].splice(Te.slotTargets[e][t].indexOf(n),1):delete Te.slotTargets[e][t]:(Te.slotTargets[e].length=0,Te.slotTargets[e]=s))})}function C(){B({type:"timeline",id:"building_page_level_GPT_object",data:{id:0,start:Date.now()}});var e=o("gptgeo");if(e){var t=e.split("%2C"),n=parseFloat(t[0]),r=parseFloat(t[1]);je.executeWhenAvailable("setting location",function(){B({type:"configuration",id:"spoofed_user_location",data:{location_spoofed:!0,latitude:n,longitude:r}}),je.setLocation(n,r)})}else Ae("Unable to retrieve location cookie",e),B({type:"configuration",id:"spoofed_user_location",data:{location_spoofed:!1}});"undefined"!=typeof ue&&(Ae("Setting Child Directed Treat Tag : ",ue),je.executeWhenAvailable("setting child_directed_treatment tag",function(){B({type:"configuration",id:"child_directed_treatment",data:{active:1==ue?"true":"false"}}),je.setChildDirectedTreatmentTag(ue)})),"undefined"!=typeof de&&(Ae("Setting SafeFrame Config Tag : ",de),je.executeWhenAvailable("setting safeframe_config",function(){B({type:"configuration",id:"safeframe_config",data:{active:de}}),je.setSafeFrameConfig(de)}));for(var a=l(he),i=0;i<a.length;i++){var s=a[i];B({type:"page",id:"static_targeting",data:{key:s[0],value:s[1]}})}var u=Te.pageTargets;for(var d in u)u.hasOwnProperty(d)&&a.push([d,u[d]]);Ae("Page Level Targeting",JSON.stringify(a));for(var c=0;c<a.length;c++){var f=a[c][1];if(f&&!Array.isArray(f)&&(f=f.indexOf(",")>=0?f.split(","):[f]),"exclusions"==a[c][0])for(var p=0;p<f.length;p++){var g=a[c][1][p];je.executeWhenAvailable("setting category exclusion",function(){je.setCategoryExclusion(g)})}else{var h=a[c][0];w(h,f)}}B({type:"timeline",id:"building_page_level_GPT_object",data:{id:0,end:Date.now()}})}function _(e){var t=document.querySelectorAll("div#"+e.rktr_slot_id);if(0!=t.length)for(var n=0;n<t.length;n++){var r=t[n];if(!(r.className.indexOf("adfuel-rendered")>=0)){if(1==t.length&&De[e.rktr_slot_id]){var a=D(e,!0);return E(a.rktr_slot_id),a}return D(e)}Ae("Found rendered slot...",e.rktr_slot_id)}return Ae("Not building slot... Can't Find Unrendered Slot On Page",e.rktr_slot_id),null}function k(e){var t=Se.networkId;e.inherit&&se&&(e.rktr_ad_id=se),Ae("Building Slot",e),B({type:"timeline",id:"building_gpt_slot_"+e.rktr_slot_id,data:{id:1,start:Date.now()}}),B({type:"slots",id:e.rktr_slot_id,data:{build_start:Date.now()}});var n,r="/"+t+"/"+e.rktr_ad_id,a=e.rktr_slot_id,i=e.rktr_slot_id.indexOf("_oop")>=1,o=i?"Defining OOP Slot":"Defining Standard Slot";"undefined"!=typeof e.safeframe_config&&(n=e.safeframe_config),je.executeWhenAvailable(o,function(){i?De[a]=je.defineOutOfPageSlot(r,a):De[a]=je.defineSlot(r,e.sizes,a),n&&je.setSlotSafeFrameConfig(De[a],n),B({type:"counts",id:"slots",data:"+"}),Ae("Slot: ",e)}),Ae("Slots",De),je.executeWhenAvailable("Defining slot targeting",function(){var t=p(e);for(var n in t)if(t.hasOwnProperty(n)){var r;if(r=t[n]&&t[n][1]?JSON.stringify(t[n][1]):""){r=JSON.parse(r);var i=De[a];if("exclusions"==t[n][0])if(Array.isArray(t[n][1]))for(var o in t[n][1])t[n][1].hasOwnProperty(o)&&(r=t[n][1][o],je.setSlotCategoryExclusion(i,r));else je.setSlotCategoryExclusion(i,r);else{var l=t[n][0];je.setSlotTargeting(i,l,r)}}}}),Ae("Checking Responsive Mapping For Slot",e.responsive,e.responsive.length),e.responsive=e.responsive||[],e.responsive.length>0&&x(e.rktr_slot_id,e.responsive);var l=z("slots",e.rktr_slot_id),s=Date.now(),u=s-l.build_start+"ms";B({type:"slots",id:e.rktr_slot_id,data:{build_end:s,build_elapsed:u}});for(var d=[],c=0;c<e.sizes.length;c++){var f=e.sizes[c];d.push(f.join("x"))}B({type:"slots",id:e.rktr_slot_id,data:{allowed_sizes:d}}),B({type:"timeline",id:"building_gpt_slot_"+e.rktr_slot_id,data:{id:1,end:Date.now()}})}function A(e,t){function n(e){var t=Ie.indexOf(e);t>=0&&Ie.splice(t,1)}var r=[],a=z("timeline","building_gpt_slots"),i=a.length||1;B({type:"timeline",id:"building_gpt_slots",data:{id:i,start:Date.now()}});for(var o=0;o<e.length;o++){var l=e[o],s=t&&t.ignoreCheck,u=!0;s||_(l)||(n(l),u=!1),u&&(k(l),r.push(l),n(l))}return B({type:"timeline",id:"building_gpt_slots",data:{id:1,slots:r.length,end:Date.now()}}),r}function E(e){e=e||[],Array.isArray(e)||(e=[e]),Ae("Clearing Slots",{slotDivIds:e}),je.executeWhenAvailable("clearing slots",function(){var t=[];e.length>0&&(t=e.filter(function(e){return!!De[e]}).map(function(e){return De[e]}),0==t.length)||je.clearSlots(t)})}function O(e){e=e||[],Array.isArray(e)||(e=[e]),Ae("Destroying Slots",{slotDivIds:e}),je.executeWhenAvailable("destroying slots",function(){var t=[];e.length>0&&(t=e.filter(function(e){return!!De[e]}).map(function(e){return De[e]}),0==t.length)||(h(e),"undefined"!=typeof window.jpUnloadUnits&&window.jpUnloadUnits(),je.destroySlots(t),m(e),v(e))})}function x(e,t){for(var n=0;n<t.length;n++){for(var r=JSON.parse(JSON.stringify(t[n])),a=0;a<r.length;a++)if(Array.isArray(r[a]))for(var i=0;i<r[a].length;i++)if(Array.isArray(r[a][i]))for(var o=0;o<r[a][i].length;o++)"fluid"!==r[a][i][o]&&(r[a][i][o]=parseInt(r[a][i][o]));else parseInt(r[a][i])>=0?r[a][i]=parseInt(r[a][i]):"fluid"!==r[a][i]&&(r[a]=[]);else r[a]=[];t[n]=r}je.executeWhenAvailable("setting slot mappings",function(){je.defineSlotSizeMapping(De[e],t)})}function D(e,t){Ae("Checking to see if slot div id needs updated.",{slot:e});var n=e.rktr_slot_id,r=n,i=n.split("_"),o=i[i.length-1],l=document.querySelectorAll("div#"+n);if(l.length>1||1==l.length&&t){for(Ae("updating slot div id.",{slot:e});De[r];)3==i.length?o=a():(o=parseInt(o)+1,o=o<10?"0"+String(o):String(o)),i[i.length-1]=o,r=i.join("_");I(e,r,n),F(n,r)}return e}function I(e,t,n){e.rktr_slot_id=t;try{var r=new CustomEvent("SlotIdChange",{detail:{asset:e,originalId:n,newId:t}});document.dispatchEvent(r)}catch(e){Oe("error dispatching custom Event: SlotIdChange",{error:e})}}function F(e,t){var n=document.querySelectorAll("div#"+e);if(n.length>0)for(var r=0;r<n.length;r++){var a=n[r];(a.className.indexOf("adfuel-rendered")<0&&n.length>1||1==n.length)&&(a.id=t)}}function P(){return Ce&&me&&0==ve&&0==ye}function R(){if(P())if(Fe.length>0||Pe.length>0){Ae("Processing delayed dispatch queues");var e;for(e=0;e<Fe.length;e++)Fe[e]();for(Ae("User-Dispatched Queues: ",Pe),e=0;e<Pe.length;e++)Pe[e]();Fe.length=0,Pe.length=0}else Se.autoDispatch&&(Ae("Processing all queues"),AdFuel.dispatchQueue())}function M(e){if(!P())return Ae("Delaying Queue Dispatch"),void Fe.push(function(){M(e)});var t=z("timeline","dispatch_queue"),n=t.length?t.length+1:1;if(B({type:"timeline",id:"dispatch_queue_called",data:{id:n,timestamp:Date.now(),slots:Ie.length}}),e=e||{},Ae("Registry",AdFuel.registry),Ae("SlotQueue: ",Ie),Ae("Dispatch Options: ",e),e.slots&&e.slots.length>0)for(var r=0;r<e.slots.length;r++)Me.indexOf(e.slots[r])>=0&&Me.splice(Me.indexOf(e.slots[r]),1);if(Ie.length>0){var a=Ie.filter(function(t){var n=!e.slots||0==e.slots.length||e.slots.indexOf(t.rktr_slot_id)>=0,r=!e.exclude||0==e.exclude.length||e.exclude.indexOf(t.rktr_slot_id)<0,a=e.slots&&e.slots.length>0||Me.indexOf(t.rktr_slot_id)<0,i=n&&r&&a;return i});if(e.slots&&e.slots.length>0&&Me.length>0)for(var i=0;i<e.slots.length;i++){var o=Me.indexOf(e.slots[i]);o>=0&&Me.splice(o,1)}var s=A(a,e);if(s.length>0){var u=parseInt(z("counts","requests").length||0)+1,d=Date.now();B({type:"counts",id:"requests",data:"+"}),B({type:"requests",id:u,data:{start:d,options:e,queue:[]}}),C();for(var c=l(s),f=[],p=0;p<c.length;p++){var g=c[p];f.push(g.rktr_slot_id)}B({type:"requests",id:u,data:{queue:f}});var h=Object.getOwnPropertyNames(e);h.length>0&&B({type:"requests",id:u,data:{options:e}});var m=Re.filter(function(e){return!!e.callbacks.preDispatchCallback}).map(function(e){return we(e.name,function(t){e.callbacks.preDispatchCallback(c,t)},"preDispatch")});e&&e.preDispatchCallback&&m.push(we("dispatchOptions",function(t){e.preDispatchCallback(c,t)},"preDispatch"));for(var v=Date.now(),y=0;y<m.length;y++)B({type:"modules",id:m[y].name,data:{callback:"preDispatch",start:v}}),B({type:"timeline",id:m[y].name+"_preDispatch",data:{start:v}});window.async.parallelWithTimeout("preDispatch",Se.dispatchCallbackTimeoutInMilliseconds,m,function(t){t&&Ae("Error calling preDispatchCallbacks for registered modules",{error:t});try{var n=new CustomEvent("PreDispatchComplete",{detail:{slots:Ie.length}});document.dispatchEvent(n)}catch(e){Oe("error dispatching custom Event: PreDispatchComplete",{error:e})}var r=z("timeline","dispatch_queue"),a=r.length?r.length+1:1;B({type:"timeline",id:"dispatch_queue",data:{id:a,start:Date.now(),slots:Ie.length}});for(var i=W(s,e),o=l(i),d=Re.filter(function(e){return!!e.callbacks.postDispatchCallback}).map(function(e){return we(e.name,function(t){e.callbacks.postDispatchCallback(o,t)},"postDispatch")}),c=0;c<o.length;c++);e&&e.postDispatchCallback&&d.push(we("dispatchOptions",function(t){e.postDispatchCallback(o,t)},"postDispatch"));var f=Date.now();Ee(ke()+" Starting postDispatch Callbacks");for(var c=0;c<d.length;c++)B({type:"modules",id:d[c].name,data:{callback:"postDispatch",start:f}}),B({type:"timeline",id:d[c].name+"_postDispatch",data:{start:f}});window.async.parallelWithTimeout("postDispatch",Se.dispatchCallbackTimeoutInMilliseconds,d,function(e){e&&Ae("error calling postDispatchCallbacks for registered modules",{error:e});try{var t=new CustomEvent("PostDispatchComplete",{detail:{slots:o.length}});document.dispatchEvent(t)}catch(e){Oe("error dispatching custom Event: PostDispatchComplete",{
error:e})}Ee(ke()+" End postDispatch Callbacks"),Ae("Slot Queue After Dispatch:",Ie)}),Ee(ke()+" End Dispatch of Queue: "+i.length+" slots");var p=Date.now();B({type:"timeline",id:"dispatch_queue",data:{id:a,end:p,slots:o.length}});var g=z("requests",u)[0],h=p-g.start+"ms";B({type:"requests",id:u,data:{end:p,elapsed:h}})})}}}function q(e,t){function n(e){var t=document,n=t.createElement("script"),a=t.getElementsByTagName("script")[0],i=/^(complete|loaded)$/,o=!1;n.type="text/javascript",n.src=e,n.onload=n.onreadystatechange=function(){o||"readyState"in n&&i.test(n.readyState)||(n.onload=n.onreadystatechange=null,o=!0,r())},a.parentNode.insertBefore(n,a)}function r(){t.dispatch&&AdFuel.dispatchQueue(t),B({type:"timeline",id:"Queueing registry via Script",data:{timestamp:Date.now()}})}function a(e,t){var n=[];if(n.push(e[0]),t&&t.length>0)for(var r=1;r<e.length;r++)t.indexOf(e[r].rktr_slot_id)>=0&&n.push(e[r]);else n=e;return n}function i(r){1==r.error?(Ae("Using Script Tag Method..."),n(e)):(B({type:"timeline",id:"Queueing registry via JSON",data:{timestamp:Date.now()}}),r.response=a(r.response,t.slots),window.AdFuel.registry.push(r.response,t),Ee(ke()+" End Queuing of Registry: "+e))}if(Ae("Queueing Registry: ",e,t,Se),Ee(ke()+" Start Queuing of Registry: "+e),t=t||{dispatch:Se.autoDispatch},t.exclude&&t.exclude.length>0)for(var o=0;o<t.exclude.length;o++){var l=t.exclude[o];Me.indexOf(l)<0&&Me.push(l)}Ae("Trying JSON Request First..."),qe(e,i)}function N(e,t,n){function r(){if(i++==t){var l=n();l&&N(e,t,n)}else{var s=Date.now()-o-i*a;window.setTimeout(r,a-s)}}t=t||10;var a=e/t,i=0,o=Date.now();window.setTimeout(r,a)}function L(e,t){function n(e){Ae("starting refresh interval: "+e,t);var r=1e3*e;N(r,5,function(){if(!t.interval||0==parseInt(t.interval))return Ae("stopping refresh interval: "+e,t),!1;var r=parseInt(t.interval);return e!=r?(Ae("changing refresh interval: "+e,t),n(r),!1):(i(),!0)})}!e||Array.isArray(e)||t?t=t||{}:(t=e,e=[]),e||(e=[]),Ee(ke()+" Begin Slot Refresh: "+e.length+" slots");var r=z("timeline","refresh"),a=r.length||1;B({type:"timeline",id:"refresh",data:{id:a,slots:e,options:t,start:Date.now()}}),t.pageload=void 0==t.pageload||t.pageload,t.maintainCorrelator=void 0==t.maintainCorrelator||t.maintainCorrelator,Ae("Refresh Options",t);var i=function(){if(Ae("Testing Refresh: ",{focused:_e,refreshOnFocusOnly:Se.refreshOnFocusOnly,test:_e||!Se.refreshOnFocusOnly}),_e||!Se.refreshOnFocusOnly){var n=[],r=[],i=[];if(0==e.length)for(var o in De)De.hasOwnProperty(o)&&i.push(o);else i=e;for(var l=0;l<i.length;l++){var o=i[l];if(document.getElementById(o)){B({type:"slots",id:o,data:{refresh_start:Date.now()}});var s=De[o];s&&(n.push(s),r.push(o))}else Ae("Cannot find element on page to refresh: "+o)}if(e.length>0&&0==r.length)return;var u=Re.filter(function(e){return!!e.callbacks.preRefreshCallback}).map(function(e){return we(e.name,function(t){e.callbacks.preRefreshCallback(r,t)},"preRefresh")});t.preRefreshCallback&&u.push(we("refreshOptions",function(e){t.preRefreshCallback(r,e)},"preRefresh"));var d=Date.now();Ee(ke()+" Begin preRefreshCallbacks");for(var c=0;c<u.length;c++)B({type:"modules",id:u[c].name,data:{callback:"preRefresh",start:d}}),B({type:"timeline",id:u[c].name+"_preRefresh",data:{start:d}});window.async.parallelWithTimeout("preRefresh",Se.refreshCallbackTimeoutInMilliseconds,u,function(i){i&&Ae("error calling preRefreshCallbacks for all registered modules",{error:i});try{var o=new CustomEvent("PreRefreshComplete",{detail:{slots:r}});document.dispatchEvent(o)}catch(e){Oe("error dispatching custom Event: PreRefreshComplete",{error:e})}Ee(ke()+" End preRefreshCallbacks"),E(r),t.pageload?je.setTargeting("pageload","ref"):je.clearTargeting("pageload"),je.refreshSlots(n,t);for(var l=r,s=0;s<r.length;s++){var u=r[s],d=z("slots",u),c=Date.now(),f=c-d.refresh_start+"ms";B({type:"slots",id:u,data:{refresh_end:c,refresh_elapsed:f}}),B({type:"counts",id:u+"_refreshes",data:"+"})}var p=Re.filter(function(e){return!!e.callbacks.postRefreshCallback}).map(function(e){return we(e.name,function(t){e.callbacks.postRefreshCallback(l,t)},"postRefresh")});t.postRefreshCallback&&p.push(we("refreshOptions",function(e){t.postRefreshCallback(l,e)},"postRefresh"));for(var g=Date.now(),s=0;s<p.length;s++)B({type:"modules",id:p[s].name,data:{callback:"postRefresh",start:g}}),B({type:"timeline",id:p[s].name+"_postRefresh",data:{start:g}});window.async.parallelWithTimeout("postRefresh",Se.refreshCallbackTimeoutInMilliseconds,p,function(e){e&&Ae("error calling postRefreshCallbacks for all registered modules",{error:e});try{var t=new CustomEvent("PostRefreshComplete",{detail:{slots:r}});document.dispatchEvent(t)}catch(e){Oe("error dispatching custom Event: PostRefreshComplete",{error:e})}Ee(ke()+" End postRefreshCallbacks")}),Ee(ke()+" End Slot Refresh: "+e.length+" slots"),B({type:"timeline",id:"refresh",data:{id:a,slots:e,options:t,end:Date.now()}})})}};if(t.interval&&parseInt(t.interval)>0){var o=parseInt(t.interval);n(o)}else i()}function j(){return Object.getOwnPropertyNames(Ne)}function Q(e){return Ne[e]||{}}function z(e,t){return"counts"!=e||Ne[e][t]?"timeline"!=e||"request_to_dfp"!=t||Ne[e][t]?Ne[e][t]||{}:[]:0}function B(e){Ae("Adding Metric: ",JSON.parse(JSON.stringify(e)));var t,n=!1;switch(Ne[e.type]||(Ne[e.type]={}),Ne[e.type][e.id]||(Ne[e.type][e.id]=[],n=!0),t=n?[]:z(e.type,e.id),e.type){case"counts":0==t.length&&(t=0);var r=parseInt(t);if("+"==e.data)r+=1;else{if("-"!=e.data)return Ae("Metric data contains no operator for counting metrics.",e),!1;r-=1}Ne[e.type][e.id]=r,Ae("Metrics updated with: ",e,Ne);break;case"modules":if(e.data.callback){var a=Re.filter(function(t){return t.name==e.id});Array.isArray(a)&&(a=a[0]),0==t.length&&(t={});var i=Object.getOwnPropertyNames(a.callbacks),o=e.data.callback+"Callback";if(i.indexOf(o)>=0)for(var l=0;l<i.length;l++)t[i[l]]||(t[i[l]]={}),delete e.data.callback,t[i[l]]=s(t[i[l]],e.data);Ne[e.type][e.id]=t}else{var u=s(t,e.data);Ne[e.type][e.id]=u,Ae("Metrics updated with: ",e,Ne)}break;case"requests":case"timeline":var d=e.data.id||1,u={};t.length>0&&(u=t[d-1]),u=s(u,e.data),Ne[e.type][e.id][d-1]=u,Ae("Metrics updated with: ",e,Ne);break;case"slots":default:var u=s(t,e.data);Ne[e.type][e.id]=u,Ae("Metrics updated with: ",e,Ne)}for(var c=Re.filter(function(e){return!!e.callbacks.metricUpdateCallback}).map(function(t){return we(t.name,function(n){t.callbacks.metricUpdateCallback(e,n)},"metricUpdate")}),f=0;f<c.length;f++){var p=c[f];p.callback()}return!0}function W(e,t){var n=z("timeline","request_to_dfp").length+1;n||(n=1),B({type:"timeline",id:"request_to_dfp",data:{id:n,slots:e,options:t,start:Date.now()}}),t=t||{sync:!1,syncSlots:[],maintainCorrelator:!1};var r=[];je.configurePubAds();for(var a=function(e){je.executeWhenAvailable("displaying slot",function(){Ae("Displaying Slot: "+e),je.displaySlotById(e)})},i=0;i<e.length;i++){var o=e[i].rktr_slot_id;document.getElementById(o)?(a(o),r.push(e[i])):(Ae("Can't Find Slot On Page",o),Ne.slots&&Ne.slots[o]&&delete Ne.slots[o])}var l=r.map(function(e){return B({type:"slots",id:e.rktr_slot_id,data:{render_start:Date.now()}}),e.rktr_slot_id});je.executeWhenAvailable("refreshing slots",function(){var e=[];for(var n in De)De.hasOwnProperty(n)&&(Ae("Checking Slot for Sync: "+n),(t.sync&&(!t.syncSlots||0==t.syncSlots.length||t.syncSlots.indexOf(n)>=0)||l.indexOf(n)>=0)&&(Ae("Syncing Slot With Request: "+n),e.push(De[n])));Ae("Slots To Refresh: ",e.map(function(e){return e.getSlotElementId()})),je.refreshSlots(e)}),t.maintainCorrelator=t.maintainCorrelator||!1,Ae({maintainCorrelator:t.maintainCorrelator}),0==t.maintainCorrelator&&je.executeWhenAvailable("updating correlator",je.updateCorrelator);try{var s=new CustomEvent("AdFuelRequestComplete",{detail:{slots:JSON.parse(JSON.stringify(r)),options:t}});document.dispatchEvent(s)}catch(e){Oe("error dispatching custom Event: AdFuelRequestComplete",{error:e})}return B({type:"timeline",id:"request_to_dfp",data:{id:n,slots:e,options:t,end:Date.now()}}),r}function U(e){if(e)for(var t in e)if(e.hasOwnProperty(t))if("slotTargets"==t){for(var n in e[t])if(e[t].hasOwnProperty(n)){var r=e[t][n];for(var a in r)r.hasOwnProperty(a)&&AdFuel.addSlotLevelTarget(n,a,e[t][n][a])}}else if("adTargets"==t)for(var n in e[t])e[t].hasOwnProperty(n)&&AdFuel.addPageLevelTarget(n,e[t][n]);else AdFuel.addPageLevelTarget(t,e[t])}function G(e){if(e&&e.indexOf("/")>=0){var t=e.split("/")[0];if(parseInt(t)>0){var n=e.split("/");n.splice(0,1),e=n.join("/")}}return e}function J(e,t){xe("AdFuel.logit is DEPRECATED and will be removed in the next version of AdFuel."),Ae(t,e)}function V(e){xe("AdFuel.queueSingleton is DEPRECATED and will be removed in the next version of AdFuel."),Ae("Queuing Singleton",e),e.size=e.size||[[88,31]],e.targets=e.targets||[],e.responsive=e.responsive||[];var t=e.divId;e.adunit=G(e.adunit);var n={singleton:!0,rktr_id:"singleton_"+t,gpt_id:Se.networkId,root:e.adunit.split("/")[0].toUpperCase(),responsive:[],rktr_slot_id:"page"};if(he&&e.targets.length>0){for(var r=[],a=[],i=0;i<e.targets.length;i++){for(var o=e.targets[i],l=!1,s=0;s<he.length;s++)if(he[s][0]==o[0])for(var u=0;u<o[1].length;u++)he[s][1].indexOf(o[1][u])>=0&&(l=!0,a=he[s],Ae("Found duplicate page-level target. Removing from singleton.",{singleton:o,pageLevel:a}));l||r.push(o)}e.targets=r}n.targeting=he;var d={present:!0,responsive:e.responsive,rktr_slot_id:e.divId,sizes:e.size,targeting:e.targets,rktr_ad_id:e.adunit,inherit:e.inherit};if(d){var c=[n,d];AdFuel.registry.push(c),e.dispatch&&!Se.autoDispatch&&AdFuel.dispatchQueue({slots:[d.rktr_slot_id]})}else Ae("missing singleton: "+e.divId)}function H(e){xe("AdFuel.processNewRegistry is DEPRECATED and will be removed in the next version of AdFuel."),q(e,{dispatch:!0})}function K(e,t,n){xe("AdFuel.reloadAd is DEPRECATED and will be removed in the next version of AdFuel."),AdFuel.refresh([e],{pageload:t,interval:0,updateCorrelator:n})}function $(e,t,n,r){xe("AdFuel.refreshAd is DEPRECATED and will be removed in the next version of AdFuel."),AdFuel.refresh([e],{pageload:n||!1,interval:t||0,updateCorrelator:r||!0})}function X(e,t,n,r){xe("AdFuel.refreshAds is DEPRECATED and will be removed in the next version of AdFuel."),AdFuel.refresh(e,{pageload:n||!1,interval:t||0,updateCorrelator:r||!0})}function Z(e,t,n){xe("AdFuel.refreshAllAds is DEPRECATED and will be removed in the next version of AdFuel.");var r={pageload:t||!1,interval:e||0,updateCorrelator:n||!0};return AdFuel.refresh([],r),!0}function Y(e,t,n,r,a,i,o,l){xe("AdFuel.renderSingleSlot is DEPRECATED and will be removed in the next version of AdFuel."),e.indexOf("ad_carousel_slide")>=0&&(a="NBA/homepage"),V({divId:e,size:t,targets:n,responsive:r,adunit:a,delay:i,inherit:o,dispatch:void 0==l||l,sync:!1,syncSlots:[]})}function ee(){r(document,"AdFuelRequestComplete",function(e){Ae("AdFuel Request Complete",{requestEvent:e})}),r(document,"GPTRenderComplete",function(e){Ae("GPT Render Complete",{renderEvent:e})}),r(document,"GPTSlotBuildComplete",function(e){Ae("GPT Slot Build Complete",{renderEvent:e})}),r(document,"SlotIdChange",function(e){Ae("Slot ID Change",{idChangeEvent:e})}),r(document,"SlotVisibilityChanged",function(e){Ae("Slot Visibility Changed",{visibilityChangedEvent:e})}),r(document,"SlotViewable",function(e){Ae("Slot Viewable",{viewableEvent:e})}),r(document,"GPTSlotLoaded",function(e){Ae("Slot Loaded",{slotOnLoadEvent:e})}),r(document,"PreQueueComplete",function(e){Ae("PreQueueComplete",{preQueueCompleteEvent:e})}),r(document,"PostQueueComplete",function(e){Ae("PostQueueComplete",{postQueueCompleteEvent:e})}),r(document,"PreDispatchComplete",function(e){Ae("PreDispatchComplete",{preDispatchCompleteEvent:e})}),r(document,"PostDispatchComplete",function(e){Ae("PostDispatchComplete",{postDispatchCompleteEvent:e})}),r(document,"PreRefreshComplete",function(e){Ae("PreRefreshComplete",{preRefreshCompleteEvent:e})}),r(document,"PostRefreshComplete",function(e){Ae("PostRefreshComplete",{postRefreshCompleteEvent:e})})}function te(){if(!Ce){Ce=!0;var e=Se.exclude.join(",")||"No Exclusions";B({type:"timeline",id:"adfuel_initialized",data:{id:1,timestamp:Date.now()}}),B({type:"configuration",id:"adfuel_initialization_options",data:{refreshOnFocusOnly:Se.refreshOnFocusOnly,networkId:Se.networkId,autoDispatch:Se.autoDispatch,exclude:e,iFrameTitle:Se.iframeTitle}}),B({type:"configuration",id:"callback_timeout_length",data:{queueCallbackTimeout:Se.queueCallbackTimeoutInMilliseconds+"ms",dispatchCallbackTimeout:Se.dispatchCallbackTimeoutInMilliseconds+"ms",refreshCallbackTimeout:Se.refreshCallbackTimeoutInMilliseconds+"ms"}}),g(),d(),ee(),u(),je.executeWhenAvailable("set ad iframe title",y),R();try{var t=new CustomEvent("AdFuelCreated",{detail:{AdFuel:window.AdFuel}});document.dispatchEvent(t)}catch(e){Oe("error dispatching custom Event: AdFuelCreated",{error:e})}r(document,"PostQueueComplete",function(){setTimeout(R,300)})}}function ne(){return l(Ie)}function re(e){for(var t,n=0;n<AdFuel.registry.length;n++)for(var r=AdFuel.registry[n],a=1;a<r.length;a++){var i=r[a];i.rktr_slot_id==e&&(t=l(i))}var o,s={},u=De[e];if(u){o=u.getAdUnitPath();var d=u.getTargetingKeys();for(var c in d){var f=d[c];s[f]=u.getTargeting(f)}}return{adUnit:o,slot:t,slotTargeting:s}}function ae(e,t){Ae("registering module: "+e);for(var n=-1,r=0;r<Re.length;r++)Re[r].name==e&&(n=r);n>=0?Re[n].callbacks=t:Re.push({name:e,callbacks:t}),Ne.modules=Ne.modules||{},Ne.modules[e]=Ne.modules[e]||{};for(var a in t)t.hasOwnProperty(a)&&(Ne.modules[e][a]={});return B({type:"counts",id:"modules",data:"+"}),Le}function ie(e){for(var t=-1,n=0;n<Re.length;n++)Re[n].name==e&&(t=n);t>=0&&Re.splice(t,1),B({type:"counts",id:"modules",data:"-"})}function oe(e){if(e){if(e.exclude&&e.exclude.length>0)for(var t=0;t<e.exclude.length;t++){var n=e.exclude[t];Me.indexOf(n)<0&&Me.push(n)}for(var r in e)e.hasOwnProperty(r)&&(Se[r]=e[r]);var a=Se.exclude.length>0?Se.exclude.join(","):"No Exclusions";B({type:"configuration",id:"adfuel_initialization_options",data:{refreshOnFocusOnly:Se.refreshOnFocusOnly,networkId:Se.networkId,autoDispatch:Se.autoDispatch,exclude:a,iFrameTitle:Se.iframeTitle}}),B({type:"configuration",id:"callback_timeout_length",data:{queueCallbackTimeout:Se.queueCallbackTimeoutInMilliseconds+"ms",dispatchCallbackTimeout:Se.dispatchCallbackTimeoutInMilliseconds+"ms",refreshCallbackTimeout:Se.refreshCallbackTimeoutInMilliseconds+"ms"}})}}function le(){return je.updateCorrelator()}var se,ue,de,ce,fe,pe=Array.prototype.slice,ge=function(){},he=[],me=!1,ve=!1,ye=!1,we=function(e,t,n){return{name:e,callback:t,event:n,data:{}}},be=function(){var e=[];return e.push=function(t,n){if(Array.isArray(t)){if(ve=!0,n&&n.slotMap)for(var r=1;r<t.length;r++)n.slotMap[t[r].rktr_slot_id]&&(t[r].rktr_slot_id=n.slotMap[t[r].rktr_slot_id]);Array.prototype.push.call(e,t);var a=l(t);n=n||{dispatch:!0},a=a.filter(function(e,t){return 0===t||(!!(n.slots&&n.slots.length>0&&n.slots.includes(e.rktr_slot_id))||!(n.slots&&n.slots.length>0&&!n.slots.includes(e.rktr_slot_id)))});for(var i=Re.filter(function(e){return!!e.callbacks.preQueueCallback}).map(function(e){return we(e.name,function(t){e.callbacks.preQueueCallback(a,t)},"preQueue")}),o=0;o<i.length;o++){var s=(new Date).getTime();AdFuel.addMetric({type:"modules",id:i[o].name,data:{callback:"preQueue",start:s}}),AdFuel.addMetric({type:"timeline",id:i[o].name+"_preQueue",data:{start:s}})}async.parallelWithTimeout("preQueue",Se.queueCallbackTimeoutInMilliseconds,i,function(e){e&&Ae("error calling preQueueCallbacks for registered modules",{error:e});try{var r=new CustomEvent("PreQueueComplete",{detail:{asset:t}});document.dispatchEvent(r)}catch(e){Oe("error dispatching custom Event: PreQueueComplete",{error:e})}ve=!1;var a=(new Date).getTime();AdFuel.addMetric({type:"timeline",id:"queueing_registry:_"+t[0].rktr_id,data:{id:0,start:a}});var i=t[0].rktr_id;if(B({type:"counts",id:"registries",data:"+"}),B({type:"registries",id:i,data:{deployed:t[0].rktr_deployed_date,slotCount:t.length-1}}),"undefined"!=typeof t[0].child_directed_treatment&&(ue="true"===t[0].child_directed_treatment?1:0),"undefined"!=typeof t[0].safeframe_config&&(de=t[0].safeframe_config),!t[0].singleton){c(t[0].targeting);try{se=G(t[1].rktr_ad_id)}catch(e){console.log("Could not find inheritable Ad Unit.",t)}}var o=t[0].root?t[0].root.toUpperCase():t[0].site.toUpperCase();f(o);for(var s=!1,u=1;u<t.length;u++){var d=t[u];if(d.parentRegistry=i,!d.queued){AdFuel.addMetric({type:"slots",id:d.rktr_slot_id,data:{queued:(new Date).getTime()}});var p=t[0].hasInViewRefresh?t[0].hasInViewRefresh:d.hasInViewRefresh;p===!0&&(AdFuel.addMetric({type:"slots",id:d.rktr_slot_id,data:{"In-View Refresh Registration":(new Date).getTime()}}),s=!0),Ie.push(d)}}s&&_startInViewListeners();for(var g=l(Ie),h=Re.filter(function(e){return!!e.callbacks.postQueueCallback}).map(function(e){return we(e.name,function(t){e.callbacks.postQueueCallback(g,t)},"postQueue")}),u=0;u<h.length;u++)a=(new Date).getTime(),AdFuel.addMetric({type:"modules",id:h[u].name,data:{callback:"postQueue",start:a}}),AdFuel.addMetric({type:"timeline",id:h[u].name+"_postQueue",data:{start:a}});ye=!0,async.parallelWithTimeout("postQueue",Se.queueCallbackTimeoutInMilliseconds,h,function(e){e&&Ae("error calling postQueueCallbacks for registered modules",{error:e});try{var r=new CustomEvent("PostQueueComplete",{detail:{asset:t}});document.dispatchEvent(r)}catch(e){Oe("error dispatching custom Event: PostQueueComplete",{error:e})}Ee(ke()+" End postQueue Callbacks"),ye=!1;var a=(new Date).getTime();AdFuel.addMetric({type:"timeline",id:"queueing_registry:_"+t[0].rktr_id,data:{id:0,end:a}}),(Se.autoDispatch||1==n.dispatch)&&AdFuel.dispatchQueue(n)})})}},e},Se={refreshOnFocusOnly:!1,networkId:"8663477",autoDispatch:!0,exclude:[],iframeTitle:"advertisement",queueCallbackTimeoutInMilliseconds:500,dispatchCallbackTimeoutInMilliseconds:500,refreshCallbackTimeoutInMilliseconds:500},Te={pageTargets:{},slotTargets:{}},Ce=!1,_e=!0,ke=function(){var e=new Date,t=e.toISOString(),n=t.split("T"),r=(n[0],n[1].replace("Z",""));return r},Ae="true"==i("debug")?t(n,null,"[AdFuel - DEBUG]"):ge,Ee="true"==i("timers")?t(n,null,"[AdFuel- TIMER]"):ge,Oe=(t(n,null,"[AdFuel - WARNING]"),t(n,null,"[AdFuel - ERROR]")),xe=t(n,null,"[AdFuel - DEPRECATION NOTICE]"),De={},Ie=[],Fe=[],Pe=[],Re=[],Me=[],qe=function(e,t){var n=document.createElement("a");n.href=e;var r=n.pathname.replace(/(\.min)?(\.js)$/,".json"),a=n.protocol+"//i.cdn.turner.com/"+r,i=new XMLHttpRequest;i.onload=function(){var e=this.response;try{e=JSON.parse(e),Ae("JSON Data Parsed:",e),t({response:e.registry,error:!1})}catch(n){Ae("JSON Request Failed: ",n),e={response:this.response,error:!0},t(e)}};try{Ae("Requesting JSON: ",a),i.open("GET",a,!0),i.setRequestHeader("Accept","application/json"),i.send()}catch(e){Ae("JSON Request Failed: ",e);var o={response:this.response,error:!0};t(o)}},Ne={},Le={metrics:Ne,getMetricTypes:j,getMetricsByType:Q,getMetricById:z,addMetric:B},je=function(){function e(e,t){return T||(T=window.googletag.apiReady&&"function"==typeof window.googletag.pubads,!T&&e&&Oe("GPT is unavailable - "+e,t)),T}function t(e,t){window.googletag.cmd.push(t)}function n(){S||(S=!0,AdFuel.requestScriptText+="googletag.pubads().collapseEmptyDivs(true);\n",AdFuel.requestScriptText+="googletag.pubads().enableAsyncRendering();\n",AdFuel.requestScriptText+="googletag.pubads().enableSingleRequest();\n",AdFuel.requestScriptText+="googletag.pubads().disableInitialLoad();\n",AdFuel.requestScriptText+="googletag.enableServices();\n",t("Sending Request",function(){window.googletag.pubads().addEventListener("impressionViewable",function(e){var t=e,n=new CustomEvent("SlotViewable",{detail:t});document.dispatchEvent(n)}),window.googletag.pubads().addEventListener("slotVisibilityChanged",function(e){var t=e,n=new CustomEvent("SlotVisibilityChanged",{detail:t});document.dispatchEvent(n)}),window.googletag.pubads().addEventListener("slotRenderEnded",function(e){try{var t={};e.slot&&(t.asset=e.slot),e.slot.getTargeting("pos")&&(t.pos=e.slot.getTargeting("pos")),e.isEmpty?t.empty=!0:t.empty=!1,e.size&&(t.renderedSize=e.size),e.creativeId&&(t.creativeId=e.creativeId),e.lineItemId&&(t.lineItemId=e.lineItemId),e.serviceName&&(t.serviceName=e.serviceName),e.slot.getSlotElementId()&&(t.divId=e.slot.getSlotElementId());var n=z("slots",t.divId),r=!1;for(var a in n)0==a&&(r=!0);var i=Date.now(),o=z("slots",t.divId),l=i-o.render_start+"ms";r||B({type:"timeline",id:t.divId+"_rendered",data:{id:1,start:o.render_start,end:i,elapsed:l}}),B({type:"slots",id:t.divId,data:{render_end:i,render_elapsed:l,advertiserId:t.advertiserId,campaignId:t.campaignId,creativeId:e.creativeId,lineItemId:e.lineItemId}});try{B({type:"slots",id:t.divId,data:{inventory_url:"https://www.google.com/dfp/inventory?hl=en-US#inventory/q="+e.slot.getAdUnitPath(),responsive_map:e.slot.getResponsiveMap()}})}catch(e){}try{B({type:"slots",id:t.divId,data:{targeting_map:e.slot.getTargetingMap()}})}catch(e){}t.empty||B({type:"slots",id:t.divId,data:{rendered_size:e.size.join("x")}}),B({type:"slots",id:t.divId,data:{empty:t.empty}}),Ae("GPTRenderComplete Details: ",t);var s=new CustomEvent("GPTRenderComplete",{detail:t});document.dispatchEvent(s)}catch(e){Oe("error dispatching custom Event: GPTRenderComplete",{error:e})}}),window.googletag.pubads().addEventListener("slotOnload",function(e){var t=e,n=new CustomEvent("GPTSlotLoaded",{detail:t});document.dispatchEvent(n)}),window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().enableAsyncRendering(),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().disableInitialLoad(),window.googletag.enableServices()}))}function r(t){var n=!1;return e("clearing target",{key:t?t:"all"})&&(t?window.googletag.pubads().clearTargeting(t):window.googletag.pubads().clearTargeting(),n=!0),n}function a(t,n){var r=!1;return e("setting target",{key:t,value:n})&&(AdFuel.requestScriptText+="googletag.pubads().setTargeting('"+t+"', '"+n+"');\n",window.googletag.pubads().setTargeting(t,n),r=!0),r}function i(t,n){var r=!1;return e("setting location",{latitude:t,logitude:n})&&(window.googletag.pubads().setLocation(t,n),r=!0),r}function o(t){var n=!1;return e("setting child directed treatment tag: "+t)&&(window.googletag.pubads().clearTagForChildDirectedTreatment(),window.googletag.pubads().setTagForChildDirectedTreatment(t),n=!0),n}function l(t){var n=!1;return t.sandbox=1==t.sandbox||"true"==t.sandbox,t.allowOverlayExpansion=1==t.allowOverlayExpansion||"true"==t.allowOverlayExpansion,t.allowPushExpansion=1==t.allowPushExpansion||"true"==t.allowPushExpansion,1!=t.sandbox&&(Ae("Removing invalid sandbox value"),delete t.sandbox),e("setting SafeFrame config tag: "+t)&&(window.googletag.pubads().setSafeFrameConfig(t),n=!0),n}function s(t){var n=!1;return e("setting category exclusion: "+t)&&(AdFuel.requestScriptText+="googletag.pubads().setCategoryExclusion('"+t+"');\n",window.googletag.pubads().setCategoryExclusion(t),n=!0),n}function u(){var t=!1;return e("updating correlator")&&(AdFuel.requestScriptText+="googletag.pubads().updateCorrelator();\n",window.googletag.pubads().updateCorrelator(),t=!0),t}function d(t,n){var r;return e("defining out of page slot",{adPath:t,slotId:n})&&(Ae("Building OOP Slot Object",{adPath:t,slotId:n}),AdFuel.requestScriptText+="\n_pageSlots['"+n+"'] = googletag.defineOutOfPageSlot('"+t+"', '"+n+"').addService(googletag.pubads());\n",r=window.googletag.defineOutOfPageSlot(t,n).addService(window.googletag.pubads())),r}function c(t,n,r){var a;return e("defining standard slot",{adPath:t,sizes:n,slotId:r})&&(Ae("Building Standard Slot Object",{adPath:t,sizes:n,slotId:r}),AdFuel.requestScriptText+="\n_pageSlots['"+r+"'] = googletag.defineSlot('"+t+"', "+JSON.stringify(n)+", '"+r+"').addService(googletag.pubads());\n",a=window.googletag.defineSlot(t,n,r).addService(window.googletag.pubads())),a}function f(e,t){var n=e.getSlotElementId();Ae("Setting Slot Category Exclusion",{slotId:n,value:t}),AdFuel.requestScriptText+="_pageSlots['"+n+"'].setCategoryExclusion('"+t+"');\n",e.setCategoryExclusion(t)}function p(e,t,n){var r=e.getSlotElementId();Ae("Setting Slot Targeting",{slotId:r,key:t,value:n}),AdFuel.requestScriptText+="_pageSlots['"+r+"'].setTargeting('"+t+"', '"+n+"');\n",e.setTargeting(t,n)}function g(e,t){var n=e.getSlotElementId();Ae("Setting Slot SafeFrame config",{slotId:n,value:t}),AdFuel.requestScriptText+="_pageSlots['"+n+"'].setSafeFrameConfig("+t+");\n",e.setSafeFrameConfig(t)}function h(e,t){var n=e.getSlotElementId();Ae("Setting Slot size mapping",{slotId:n,responsiveMap:t}),AdFuel.requestScriptText+="_pageSlots['"+n+"'].defineSizeMapping('"+JSON.stringify(t)+"');\n",e.defineSizeMapping(t)}function m(e){AdFuel.requestScriptText+='googletag.display("'+e+'");\n',window.googletag.display(e),B({type:"slots",id:e,data:{display:Date.now()}})}function v(e){var t=e.getSlotElementId();Ae("Clearing targeting for Slot: "+t),AdFuel.requestScriptText+="_pageSlots['"+t+"'].clearTargeting();\n",e.clearTargeting()}function y(e){var t=0==e.length?"all":e.map(function(e){return e.getSlotElementId()}).join(",");AdFuel.requestScriptText+="googletag.pubads().clear("+t+");\n",e.length>0?window.googletag.pubads().clear(e):window.googletag.pubads().clear()}function w(e){var t=0==e.length?"all":e.map(function(e){return e.getSlotElementId()}).join(",");AdFuel.requestScriptText+="googletag.pubads().destroySlots("+t+");\n",e.length>0?window.googletag.destroySlots(e):window.googletag.destroySlots()}function b(e,t){t=t||{maintainCorrelator:!0};var n=0==e.length?"all":e.map(function(e){return e.getSlotElementId()}).join(",");AdFuel.requestScriptText+="googletag.pubads().refresh("+n+");\n",e.length>0?window.googletag.pubads().refresh(e,{changeCorrelator:!t.maintainCorrelator}):window.googletag.pubads().refresh(null,{changeCorrelator:!t.maintainCorrelator})}window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var S=!1,T=!1;return{executeWhenAvailable:t,isAvailable:e,configurePubAds:n,clearTargeting:r,setTargeting:a,setLocation:i,setChildDirectedTreatmentTag:o,setSafeFrameConfig:l,setSlotSafeFrameConfig:g,setCategoryExclusion:s,updateCorrelator:u,defineOutOfPageSlot:d,defineSlot:c,setSlotCategoryExclusion:f,setSlotTargeting:p,displaySlotById:m,defineSlotSizeMapping:h,refreshSlots:b,clearSlots:y,clearSlotTargeting:v,destroySlots:w}}();return r(window,"load",function(){B({type:"timeline",id:"navigation_start",data:{id:1,timestamp:window.performance.timing.navigationStart}}),B({type:"timeline",id:"fetch_start",data:{id:1,timestamp:window.performance.timing.fetchStart}}),B({type:"timeline",id:"domain_lookup_start",data:{id:1,timestamp:window.performance.timing.domainLookupStart}}),B({type:"timeline",id:"connection_start",data:{id:1,timestamp:window.performance.timing.connectStart}}),B({type:"timeline",id:"document_request_start",data:{id:1,timestamp:window.performance.timing.requestStart}}),setTimeout(function(){B({type:"timeline",id:"window_load",data:{id:1,timestamp:window.performance.timing.loadEventEnd}})},1e3)}),{init:te,logit:J,addEvent:r,setOptions:oe,clearSlot:E,clearSlots:E,clearAllSlots:E,queueSingleton:V,processNewRegistry:H,reloadAd:K,refreshAd:$,refreshAds:X,refreshAllAds:Z,renderSingleSlot:Y,requestAndRenderAds:M,pageSlots:De,pageSlotsObj:De,dynamicTargeting:Te,setBulkTargeting:U,dispatchQueue:M,queueRegistry:q,getQueuedSlots:ne,getSlotDetails:re,refresh:L,destroySlots:O,removePageLevelTarget:b,removeSlotLevelTarget:T,addPageLevelTarget:w,addSlotLevelTarget:S,generateSingletonId:a,registry:new be,requestScriptText:"",updateCorrelator:le,readCookie:o,registerModule:ae,unregisterModule:ie,registeredModules:Re,timestamp:ke,metrics:Ne,addMetric:B,getMetricTypes:j,getMetricsByType:Q,getMetricById:z,rocketeerSlots:Ie}}();window.AMPTManager={};for(var exposedMethods=Object.getOwnPropertyNames(window.AdFuel),x=0;x<exposedMethods.length;x++){var methodName=exposedMethods[x];"function"==typeof window.AdFuel[methodName]?window.AMPTManager[methodName]=sendDeprecationNotification(methodName):window.AMPTManager[methodName]=window.AdFuel[methodName]}window.AdFuel.init();